---
layout: post
title: 'festa 사이트 분석'
author: kundol
comments: true
date: 2019-06-17 08:00
tags: [web, festa, 자바스크립트]

---  
# 크롤러 
웹사이트 분석의 원칙, 좋은 크롤러를 곁에 두는 것이다. 
나는 보통 HTTPTRACK을 사용한다.
 - [HTTPTRACK](http://www.httrack.com/page/2/en/index.html)

# 스타일
이벤트 칼럼
 - display:flex, column

밑줄
 - hr태그, border-top: 1px solid rgb(222, 222, 222);

폰트 
 - 스포카 한산스 
 - [폰트다운로드](https://spoqa.github.io/spoqa-han-sans/ko-KR/)

# URL 구조
 - 등록 : https://festa.io/event/new/organization 
 - 프로필 : https://festa.io/my/profile
 - 로그인 : https://festa.io/sign
 - 이벤트 : https://festa.io/events/{{eventNumber}}
 - 유저의 이벤트 조회 : https://festa.io/api/v1/user/events
 - 유저데이터 : https://festa.io/api/v1/user/me
 - 호스트 정보 : https://festa.io/hosts/313

# 쿠키
 - 세션을 통한 연결관리 connect.sid로 저장 

# 사이트 로직 
 - 유저 등록 / 수정시 etag 이용 etag: W/"106-PdavaTCqWVZYtBsMhtoHkJLiNy4"

# 데이타 구조
유저 데이타 수정시
```json
{
    "userId": 36,
    "userRoleId": 2,
    "userProfileDataId": null,
    "email": "jhc9639@naver.com",
    "firstName": "a",
    "lastName": "a",
    "phone": "a",
    "countryCode": "KR",
    "timezone": "Asia/Seoul",
    "signInAt": "2018-01-28T23:06:47.000Z",
    "deletedAt": null,
    "fullName": "a"
}
```

유저의 티켓정보 조회시
```json
[{
    "attendeeId": 306,
    "userId": 36,
    "eventId": 6,
    "ticketId": 5,
    "registeredAt": "2018-02-06T09:55:48.782Z",
    "ticketCount": 1,
    "paymentHistoryId": 456,
    "event": {
        "eventId": 6,
        "hostUserId": null,
        "hostOrganizationId": 3,
        "name": "KCD 2018",
        "eventSignature": "kcd2018",
        "startDate": "2018-02-24T01:30:00.000Z",
        "endDate": "2018-02-24T09:00:00.000Z",
        "refundDueDate": "2018-02-23T01:30:00.000Z",
        "tag": "kcd",
        "description": "대한민국 최대 규모의 커뮤니티 소통의 장",
        "charge": true,
        "published": true,
        "limitWaiters": 10,
        "surveyRequired": false,
        "surveyBeforePayment": false,
        "external": false,
        "externalLink": "",
        "createdAt": "2018-02-24T01:30:00.000Z",
        "isHostPicked": false,
        "hostOrganization": {
            "organizationId": 3,
            "name": "한국커뮤니티연합회",
            "description": "Korea Community Day(대한민국 커뮤니티 데이) 행사 사무국",
            "profileImage": "https://cf.festa.io/default-images/host-profiles/Profile-00080.jpg",
            "bannerImage": "https://cf.festa.io/default-images/host-banners/Banner-00008.jpg",
            "headerImage": "",
            "useHeaderImage": false,
            "detailedDescription": "",
            "mainColor": "",
            "since": "2019-05-28T19:14:10.744Z",
            "createdAt": "2019-05-28T19:14:10.678Z"
        },
        "hostUser": null,
        "metadata": {
            "bannerImage": "https://s3.ap-northeast-2.amazonaws.com/festa-temp/kcd2018-banner-festa.jpg",
            "coverImage": "https://s3.ap-northeast-2.amazonaws.com/festa-temp/kcd2018-cover-festa.jpg",
            "contents": "<div><strong>* 티켓 구입은 2월 5일(월) 오전 10시부터 가능합니다.<br /></strong><br />대한민국 최대 규모의 커뮤니티 소통의 장. 제 7회 한국 커뮤니티 데이에 여러분을 초대합니다.<br /><br />자세한 행사 내용은 <a target=\"_blank\" href=\"https://kcd2018.festa.io\">https://kcd2018.festa.io</a>에서 확인 바랍니다.</div>"
        }
    }
},
```

# 색깔
 - 분홍 : rgb(255, 45, 84);
 - 분홍2 : rgb(224, 133, 149);
 - 회색 : rgb(222, 222, 222);
 - 진회색 : rgb(74, 74, 74);
 - 회색2 : rgb(228, 228, 228);
 - 오렌지 : orangered
 - 오렌지2 : orange

# 너비
 - max-width: 1060px; 

# 비효율적인 구조
 - 유저티켓 조회시 api에 2번 요청(user/me)
 

 > 태그 : web, festa, 자바스크립트